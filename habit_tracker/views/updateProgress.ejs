<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <title>Update Progress</title>
    <style>
      #updateProgressForm {
        display: none; /* Ẩn form ban đầu */
      }
    </style>
  </head>
  <body>
    <h1>Update Progress for <%= habit.name %></h1>
    <button onclick="toggleUpdateProgressForm()">Value</button>
    <div id="updateProgressForm">
      <form
      action="/v1/habit/updateProgress?habit_id=<%= habit._id %>"
      method="POST">
      <label for="progress">Progress:</label>
      <input type="number" id="progress" name="progress" required>
      <input type="hidden" id="habitId" name="habitId" value="<%= habit._id %>">
      <button type="submit">Submit</button>
    </form>
    </div>
 
    <form action="/v1/habit/resetProgress?habit_id=<%= habit._id %>" method="POST">
      <button type="submit" onclick="return confirm('Are you sure you want to reset today\'s progress?')">Reset Progress</button>
    </form>
    
    <form action="/v1/habit/deleteHabit/<%= habit._id %>" method="POST">
      <button
        type="submit"
        onclick="return confirm('Are you sure you want to delete this habit?')">Delete Habit
      </button>
    </form>

    <form action=""></form>
    <button
      onclick="window.location.href = '/v1/habit/editHabit?habit_id=<%= habit._id %>'"
    >
      Edit Habit
    </button>
    <button onclick="window.location.href = '/v1/home'">Back to Home</button>
 
  </body>
  <script>
    function toggleUpdateProgressForm() {
        var form = document.getElementById('updateProgressForm');
        if (form.style.display === 'none' || form.style.display === '') {
          form.style.display = 'block';
        } else {
          form.style.display = 'none';
        }
      }
  </script>
</html>
